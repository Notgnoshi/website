{% load static %}
{% load filter_ %}

<!doctype HTML>
<html>
{% include "includes/head.html" %}
<body>
{% include "includes/header.html" %}

<link rel="stylesheet" type="text/css" href="{% static 'css/community.css' %}">

<div class="page-content">
<div class="wrap">
    <h1>Our Community</h1>

    <ul class="community">
        <!-- Generated once at uWSGI startup. Player list in community/players.json -->
        {% for player in PLAYERS %}
            <li class="member" id="{{ player.username }}">
                <div class="player-skin-grid">
                    <a class="user-link" href="#{{ player.username }}">
                        <img class="skin-render" src="{% get_static_prefix %}/assets/players/{{ player.username }}.png" alt="skin render">
                    </a>
                </div>
                <div class="username-grid"><span class="username">{{ player.username|filter_|safe }}</span></div>
                <div class="contact-grid">
                    <div class="uuid-grid">UUID: <code class="uuid">{{ player.uuid }}</code></div>
                    {% for contact in player.contacts %}
                        {% if contact.type == "email" %}
                            <a class="contact" href="mailto:{{ contact.value }}"><i class="fas fa-envelope"></i></a>
                        {% elif contact.type == "reddit" %}
                            <a class="contact" href="https://www.reddit.com/user/{{ contact.value }}"><i class="fab fa-reddit"></i></a>
                        {% elif contact.type == "twitter" %}
                            <a class="contact" href="https://twitter.com/{{ contact.value }}"><i class="fab fa-twitter"></i></a>
                        {% elif contact.type == "github" %}
                            <a class="contact" href="https://github.com/{{ contact.value }}"><i class="fab fa-github"></i></a>
                        {% elif contact.type == "snapchat" %}
                            <a class="contact" href="https://www.snapchat.com/add/{{ contact.value }}"><i class="fab fa-snapchat"></i></a>
                        {% elif contact.type == "facebook" %}
                            <a class="contact" href="https://www.facebook.com/{{ contact.value }}"><i class="fab fa-facebook"></i></a>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="about-grid">
                    <!-- Allow embedded HTML in descriptions. -->
                    <p>{{ player.about|safe }}</p>
                </div>
            </li>
        {% endfor %}
    </ul>
</div>
</div>

{% include "includes/footer.html" %}

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

</body>
</html>
